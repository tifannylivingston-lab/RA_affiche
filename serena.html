<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Serena Williams â€“ RA</title>

  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <style>
    body { margin:0; overflow:hidden; }
  </style>
</head>

<body>

<a-scene
  mindar-image="imageTargetSrc: serena.mind;"
  vr-mode-ui="enabled:false"
  device-orientation-permission-ui="enabled:true">

  <a-camera look-controls="false"></a-camera>

  <a-assets>
    <video id="video-serena"
           src="serena.mp4"
           preload="auto"
           playsinline
           crossorigin="anonymous">
    </video>
  </a-assets>

  <a-entity mindar-image-target="targetIndex:0" id="target">

    <!-- VIDEO -->
    <a-video
      id="videoPlane"
      src="#video-serena"
      width="1.2"
      height="0.675"
      position="0 0.3 0"
      visible="false">
    </a-video>

    <!-- BOUTON -->
    <a-plane
      id="playBtn"
      position="0 -0.2 0"
      width="0.8"
      height="0.25"
      color="#FFD700"
      visible="true">
    </a-plane>

    <a-text
      value="â–¶ Lancer la vidÃ©o"
      position="0 -0.2 0.01"
      align="center"
      width="2"
      color="#000">
    </a-text>

    <!-- PALMARES -->
    <a-entity id="palmares" visible="false">

      <a-text
        value="ðŸ† Serena Williams"
        position="0 0.2 0"
        align="center"
        width="2"
        color="#FFD700">
      </a-text>

      <a-text
        value="23 Grands Chelems\n4 Or Olympiques\n319 semaines nÂ°1"
        position="0 -0.1 0"
        align="center"
        width="2"
        color="#FFF">
      </a-text>

    </a-entity>

  </a-entity>
</a-scene>

<script>
  const video = document.querySelector('#video-serena');
  const videoPlane = document.querySelector('#videoPlane');
  const playBtn = document.querySelector('#playBtn');
  const palmares = document.querySelector('#palmares');

  playBtn.addEventListener('click', () => {
    playBtn.setAttribute('visible', 'false');
    videoPlane.setAttribute('visible', 'true');
    video.currentTime = 0;
    video.play();
  });

  video.addEventListener('ended', () => {
    videoPlane.setAttribute('visible', 'false');
    palmares.setAttribute('visible', 'true');
  });
</script>

</body>
</html>
