<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Serena Williams â€“ RA</title>

  <!-- A-FRAME -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <!-- MINDAR -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }
    a-text { font-family: Arial; }
  </style>
</head>

<body>

<a-scene
  mindar-image="imageTargetSrc: serena.mind;"
  color-space="sRGB"
  renderer="colorManagement: true;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: true">

  <!-- CAMÃ‰RA -->
  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

  <!-- ASSETS -->
  <a-assets>
    <!-- VIDÃ‰O : muted et playsinline pour garantir lecture -->
    <video id="video-serena" src="serena.mp4" preload="auto" muted playsinline></video>
  </a-assets>

  <!-- CIBLE RA -->
  <a-entity mindar-image-target="targetIndex: 0" id="serenaTarget">

    <!-- VIDÃ‰O -->
    <a-video
      id="serenaVideo"
      src="#video-serena"
      width="1.2"
      height="0.7"
      position="0 0.4 0"
      loop
      muted
      playsinline>
    </a-video>

    <!-- TEXTE PALMARÃˆS -->
    <a-text
      value="ðŸŽ¾ Serena Williams\n\nðŸ† 23 Grands Chelems\nðŸ¥‡ 4 Or Olympiques\nðŸ‘‘ 319 semaines nÂ°1"
      position="0 -0.4 0"
      align="center"
      width="2"
      color="#ffffff">
    </a-text>

    <!-- MESSAGE INSPIRANT -->
    <a-text
      value="Â« Le talent nâ€™a pas de genre. Â»"
      position="0 -0.75 0"
      align="center"
      width="2"
      color="#FFD700">
    </a-text>

  </a-entity>

</a-scene>

<!-- SCRIPT pour lancer la vidÃ©o dÃ¨s que la cible RA est dÃ©tectÃ©e -->
<script>
  const target = document.querySelector("#serenaTarget");
  const video = document.querySelector("#video-serena");

  // Lecture dÃ¨s que la cible est dÃ©tectÃ©e
  target.addEventListener("targetFound", () => {
    video.play().catch(err => {
      console.log("Autoplay bloquÃ©, cliquer pour lancer la vidÃ©o :", err);
      alert("Cliquez pour lancer la vidÃ©o !");
    });
  });

  // Pause quand la cible disparaÃ®t
  target.addEventListener("targetLost", () => {
    video.pause();
  });
</script>

</body>
</html>

