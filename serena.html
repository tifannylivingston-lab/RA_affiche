<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Serena Williams ‚Äì RA</title>

  <!-- A-FRAME -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>

  <!-- MINDAR -->
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>

  <style>
    body { margin: 0; overflow: hidden; }
    a-text { font-family: Arial; }
  </style>
</head>

<body>
<button id="startBtn" style="position:absolute;top:20px;left:20px;z-index:999;padding:10px 20px;font-size:16px;">
  Lancer la vid√©o
</button>
  
<a-scene
  mindar-image="imageTargetSrc: serena.mind;"
  color-space="sRGB"
  renderer="colorManagement: true;"
  vr-mode-ui="enabled: false"
  device-orientation-permission-ui="enabled: true">
  
<script>
  const video = document.querySelector("#video-serena");
  const btn = document.getElementById("startBtn");

  btn.addEventListener("click", () => {
    video.play();         // d√©marre la vid√©o
    btn.style.display = "none"; // cache le bouton
  });
</script>

  
  <!-- CAM√âRA -->
  <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

  <!-- ASSETS -->
  <a-assets>
    <!-- VID√âO : ajout muted et playsinline -->
    <video id="video-serena" src="serena.mp4" preload="auto" muted playsinline></video>
  </a-assets>

  <!-- CIBLE RA -->
  <a-entity mindar-image-target="targetIndex: 0" id="serenaTarget">

    <!-- VID√âO -->
    <a-video
      id="serenaVideo"
      src="#video-serena"
      width="1.2"
      height="0.7"
      position="0 0.4 0"
      loop
      muted
      playsinline>
    </a-video>

    <!-- TEXTE PALMAR√àS -->
    <a-text
      value="üéæ Serena Williams\n\nüèÜ 23 Grands Chelems\nü•á 4 Or Olympiques\nüëë 319 semaines n¬∞1"
      position="0 -0.4 0"
      align="center"
      width="2"
      color="#ffffff">
    </a-text>

    <!-- MESSAGE INSPIRANT -->
    <a-text
      value="¬´ Le talent n‚Äôa pas de genre. ¬ª"
      position="0 -0.75 0"
      align="center"
      width="2"
      color="#FFD700">
    </a-text>

  </a-entity>

</a-scene>

<!-- SCRIPT pour lancer la vid√©o √† la d√©tection -->
<script>
  const target = document.querySelector("#serenaTarget");
  const video = document.querySelector("#serenaVideo");

  // D√®s que la cible RA est d√©tect√©e, la vid√©o se lance
  target.addEventListener("targetFound", () => {
    video.play();
  });

  // Optionnel : pause quand la cible dispara√Æt
  target.addEventListener("targetLost", () => {
    video.pause();
  });
</script>

</body>
</html>
